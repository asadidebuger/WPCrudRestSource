<?xml version="1.0" encoding="Cp1256"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:mtl="http://www.eclipse.org/acceleo/mtl/3.0" xmlns:ocl.ecore="http://www.eclipse.org/ocl/1.1.0/Ecore">
  <mtl:Module name="db" nsURI="crudrest::generator::main::include::db" startHeaderPosition="31" endHeaderPosition="74">
    <input>
      <takesTypesFrom href="http://crudrest.msde.ui.ac.ir#/"/>
    </input>
    <imports href="../service.emtl#/0"/>
    <ownedModuleElement xsi:type="mtl:Template" name="db" visibility="Public">
      <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;"/>
      <body xsi:type="mtl:FileBlock" openMode="OverWrite">
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&lt;?php&#xD;&#xA;/**&#xD;&#xA; * Database functionality&#xD;&#xA; *&#xD;&#xA; *&#xD;&#xA;"/>
        <body xsi:type="mtl:QueryInvocation">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          <definition href="../service.emtl#/0/getCopyrightComment.1"/>
          <argument xsi:type="ocl.ecore:VariableExp" name="self" referredVariable="/8">
            <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
          </argument>
          <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="1.5.0">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </argument>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA; */&#xD;&#xA;include_once '"/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_Models.php';&#xD;&#xA;&#xD;&#xA;class "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_db {&#xD;&#xA;&#x9;private $version="/>
        <body xsi:type="mtl:IfBlock">
          <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol=" "/>
          <body xsi:type="ocl.ecore:PropertyCallExp">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
            <source xsi:type="ocl.ecore:PropertyCallExp">
              <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//PluginDetail"/>
              <source xsi:type="ocl.ecore:VariableExp" name="plg" referredVariable="/0/db/plg">
                <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin/detail"/>
            </source>
            <referredProperty xsi:type="ecore:EAttribute" href="http://crudrest.msde.ui.ac.ir#//PluginDetail/dbVersion"/>
          </body>
          <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol=" "/>
          <ifExpr xsi:type="mtl:QueryInvocation">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <definition href="../service.emtl#/0/isNotEmpty"/>
            <argument xsi:type="ocl.ecore:PropertyCallExp">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
              <source xsi:type="ocl.ecore:PropertyCallExp">
                <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//PluginDetail"/>
                <source xsi:type="ocl.ecore:VariableExp" name="plg" referredVariable="/0/db/plg">
                  <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin/detail"/>
              </source>
              <referredProperty xsi:type="ecore:EAttribute" href="http://crudrest.msde.ui.ac.ir#//PluginDetail/dbVersion"/>
            </argument>
          </ifExpr>
          <else>
            <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol=" 1 "/>
          </else>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol=";&#xD;&#xA;&#x9; &#xD;&#xA;&#x9;//Models instance static field&#xD;&#xA;&#x9;private static $db=null;&#xD;&#xA;&#xD;&#xA;&#x9;//static function to access db as singletone&#xD;&#xA;&#x9;public static function get_db():"/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_db {&#xD;&#xA;&#x9;  if (self::$db==null) self::$db = new "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_db();&#xD;&#xA;&#x9;  return self::$db;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;public function init(){&#xD;&#xA;&#x9;&#x9;$version=get_site_option('"/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_db_version');&#xD;&#xA;&#x9;&#x9;if(!$version) {&#xD;&#xA;&#x9;&#x9;&#x9;$this->install();&#xD;&#xA;&#x9;&#x9;&#x9;return; &#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;if ($version != $this->version) $this->update();&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;private function install(){&#xD;&#xA;&#x9;&#x9;global $wpdb;&#xD;&#xA;&#x9;&#x9;require_once(ABSPATH . 'wp-admin/includes/upgrade.php');&#xD;&#xA;&#xD;&#xA;"/>
        <body xsi:type="mtl:ForBlock">
          <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#x9;&#x9;$wpdb->query(&quot;"/>
          <body xsi:type="ocl.ecore:VariableExp" name="q" referredVariable="/0/db/%.1/%.10/q.1">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </body>
          <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&quot;);&#xD;&#xA;"/>
          <loopVariable name="q">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </loopVariable>
          <iterSet xsi:type="mtl:QueryInvocation" eType="/16/Sequence(String)">
            <definition href="../service.emtl#/0/getCreateTableList"/>
            <argument xsi:type="ocl.ecore:PropertyCallExp">
              <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//PluginWebService"/>
              <source xsi:type="ocl.ecore:VariableExp" name="plg" referredVariable="/0/db/plg">
                <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin/serviceProvider"/>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
            <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#x9;">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
          </iterSet>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#x9;&#x9;add_option('"/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_db_version', $this->version);&#x9;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;/**&#xD;&#xA;&#x9; * update function for manipulate db when version changed&#xD;&#xA;&#x9; * customize this function to handle db changes manually!&#xD;&#xA;&#x9; *&#xD;&#xA;&#x9; */&#xD;&#xA;&#x9;private function update(){&#xD;&#xA;&#x9;&#x9;$this->uninstall();&#xD;&#xA;&#x9;&#x9;$this->install();&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;/**&#xD;&#xA;&#x9; * uninstall function to clear db tables&#xD;&#xA;&#x9; * this function will be called in plugin unistall event&#xD;&#xA;&#x9; *&#xD;&#xA;&#x9; */&#xD;&#xA;&#x9;public function uninstall(){&#xD;&#xA;&#x9;&#x9;global $wpdb;&#xD;&#xA;"/>
        <body xsi:type="mtl:ForBlock">
          <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#x9;&#x9;$wpdb->query(&quot;DROP TABLE IF EXISTS {$wpdb->prefix}"/>
          <body xsi:type="ocl.ecore:OperationCallExp" referredOperation="/1/oclstdlib_String_Class/+">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            <source xsi:type="ocl.ecore:OperationCallExp" referredOperation="/1/oclstdlib_String_Class/+">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              <source xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </source>
              <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </argument>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" name="table" referredVariable="/0/db/%.1/%.13/table">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
          </body>
          <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&quot;);&#xD;&#xA;"/>
          <loopVariable name="table">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </loopVariable>
          <iterSet xsi:type="mtl:QueryInvocation" eType="/16/Sequence(String)">
            <definition href="../service.emtl#/0/getAllTables"/>
            <argument xsi:type="ocl.ecore:PropertyCallExp">
              <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//PluginWebService"/>
              <source xsi:type="ocl.ecore:VariableExp" name="plg" referredVariable="/0/db/plg">
                <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin/serviceProvider"/>
            </argument>
          </iterSet>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#x9;&#x9;delete_option('"/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_db_version');&#xD;&#xA;&#x9;}&#xD;&#xA;   /** @var SplQueue $aliases_q */&#xD;&#xA;  private $aliases_q = null;&#xD;&#xA;  private $aliases=array();&#xD;&#xA;&#xD;&#xA;  private function push_alias($key,$tail=0):string&#xD;&#xA;  {&#xD;&#xA;//&#x9;  if($this->aliases==null)$this->aliases_q=new SplQueue();&#xD;&#xA;&#x9;$suffix=!!$tail?$tail:'';&#xD;&#xA;&#x9;$alias=$key.$suffix;&#xD;&#xA;&#x9;if(!in_array($alias,$this->aliases)) {&#xD;&#xA;&#x9;  $this->aliases_q->enqueue($alias);&#xD;&#xA;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$this->aliases[]=$alias;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;  return $alias;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;return $this->push_alias($key,$tail+1);&#xD;&#xA;  }&#xD;&#xA;  private function deque_alias():string&#xD;&#xA;  {&#xD;&#xA;&#x9;return $this->aliases_q->dequeue();&#xD;&#xA;  }&#xD;&#xA;  private function reset_alias()&#xD;&#xA;  {&#xD;&#xA;&#x9;$this->aliases = array();&#xD;&#xA;&#x9;$this->aliases_q = new SplQueue();&#xD;&#xA;  }&#xD;&#xA;  public function fetch_data($entity_key, $fields, $search=null, $where = null, $order_by = null, $limit = -1, $offset = -1) : array&#xD;&#xA;  {&#xD;&#xA;&#x9;global $wpdb;&#xD;&#xA;&#x9;$prefix = $wpdb->prefix . '"/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_';&#xD;&#xA;&#x9;$entity = "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_Models::get_entity($entity_key);&#xD;&#xA;&#x9;$e_fields = array();&#xD;&#xA;&#x9;/** @var "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_Relation"/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="[]">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol=" $e_relations */&#xD;&#xA;&#x9;$e_relations = array();&#xD;&#xA;&#x9;$this->reset_alias();&#xD;&#xA;&#x9;$expanded_fields = array();&#xD;&#xA;&#xD;&#xA;&#x9;//separate fields and relations&#xD;&#xA;&#x9;foreach ($fields as $key) {&#xD;&#xA;&#x9;  $field = $entity->get_field($key);&#xD;&#xA;&#x9;  if ($field->type != 'relation') "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$e_fields[$key] = $field;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="else $e_relations[$key] = $field;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;$alias = $this->push_alias($entity_key);&#xD;&#xA;&#xD;&#xA;&#x9;$q = &quot;SELECT $alias.id, &quot;;&#xD;&#xA;&#xD;&#xA;&#x9;$targets = array();&#xD;&#xA;&#xD;&#xA;&#x9;// select non relation fields&#xD;&#xA;&#x9;foreach ($e_fields as $field) {&#xD;&#xA;&#x9;  $q .= &quot;$alias.$field->key, &quot;;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// select relation fields&#xD;&#xA;&#x9;foreach ($e_relations as $relation) {&#xD;&#xA;&#xD;&#xA;&#x9;  $target = "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_Models::get_entity($relation->entity);&#xD;&#xA;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$targets[$target->key] = $target;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;  if ($relation->join_s_key === 'id') continue;&#xD;&#xA;&#x9;  if ($relation->many) {&#xD;&#xA;&#x9;&#x9;$q .= &quot;$entity_key.$relation->key, &quot;;&#xD;&#xA;&#x9;&#x9;continue;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  $alias = $this->push_alias($relation->join_table);&#xD;&#xA;&#x9;  $t_q = &quot;$alias.id AS {$relation->key}_id, &quot;;&#xD;&#xA;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$expanded_fields[$relation->key] = [&quot;id&quot;];">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#xD;&#xA;&#x9;  // get fields that used in title script&#xD;&#xA;&#x9;  foreach ($target->fields as $field) {&#xD;&#xA;&#x9;&#x9;if (strpos($target->title_script, $field->key) != false) {&#xD;&#xA;&#x9;&#x9;  $t_q .= &quot;$alias.$field->key AS {$relation->key}_$field->key, &quot;;&#xD;&#xA;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$expanded_fields[$relation->key][] = &quot;$field->key&quot;;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  $q .= $t_q;&#xD;&#xA;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;// escape last comma&#xD;&#xA;&#x9;if (substr($q, -2) == ', ') $q = substr($q, 0, -2);&#xD;&#xA;&#xD;&#xA;&#x9;$primary_alias=$alias = $this->deque_alias();&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#x9;$q .= &quot; FROM $prefix$entity_key AS $alias&quot;;&#xD;&#xA;&#x9;$total_query=&quot;SELECT COUNT(*) FROM $prefix$entity_key AS $alias&quot;;&#xD;&#xA;&#xD;&#xA;&#x9;// add JOIN clause&#xD;&#xA;&#x9;foreach ($e_relations as $relation) {&#xD;&#xA;&#x9;  if (!$relation->many) {&#xD;&#xA;&#x9;&#x9;$alias = $this->deque_alias();&#xD;&#xA;&#x9;&#x9;$q_from = &quot; LEFT JOIN $prefix$relation->join_table AS $alias ON $entity->key.$relation->join_s_key=$alias.$relation->join_t_key &quot;;&#xD;&#xA;&#x9;&#x9;$q .= $q_from;&#xD;&#xA;&#x9;&#x9;continue;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;$searchWhere=array();&#xD;&#xA;&#x9;if ($search){&#xD;&#xA;&#x9;  foreach ($fields as $key) {&#xD;&#xA;&#x9;&#x9;$field = $entity->get_field($key);&#xD;&#xA;&#x9;&#x9;if (!$field->getFieldType()->get_search_expression) continue;&#xD;&#xA;&#x9;&#x9;"/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$searchWhere[]">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol=" =$field->getFieldType()->get_search_expression(&quot;$primary_alias.$key&quot;,$search) ;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  $searchWhere=implode(' OR ',$searchWhere);&#xD;&#xA;&#x9;  if($searchWhere){&#xD;&#xA;&#x9;&#x9;if ($where) $where.=' AND ('.$searchWhere.')';&#xD;&#xA;&#x9;&#x9;else $where=$searchWhere;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;if ($where) {&#xD;&#xA;&#x9;  $q .= &quot; WHERE &quot; . $where;&#xD;&#xA;&#x9;  $total_query .= &quot; WHERE &quot; . $where;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;if ($order_by) $q .= &quot; ORDER BY $primary_alias.$order_by&quot;;&#xD;&#xA;&#x9;if ($limit > -1) $q .= &quot; LIMIT &quot; . $limit;&#xD;&#xA;&#x9;if ($offset > -1) $q .= &quot; OFFSET  &quot; . $offset;&#xD;&#xA;&#x9;$total=0;&#xD;&#xA;&#x9;$rows = $wpdb->get_results($q);&#xD;&#xA;&#x9;if(!count($rows)) return array('items'=>$rows,'total'=>$total);&#xD;&#xA;&#x9;$total = $wpdb->get_var($total_query);&#xD;&#xA;&#x9;foreach ($e_relations as $relation) {&#xD;&#xA;&#x9;  if (!$relation->many) continue;&#xD;&#xA;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$target = $targets[$relation->entity];">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#xD;&#xA;&#x9;  /** @var "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_Relation $opposite */&#xD;&#xA;&#x9;  $opposite = $relation->opposite ? $target->get_field($relation->opposite) : null;&#xD;&#xA;&#xD;&#xA;&#x9;  if ($opposite &amp;&amp; $opposite->many) {&#xD;&#xA;&#x9;&#x9;$sub_query = &quot;SELECT $entity_key.$relation->join_s_key AS {$entity_key}_id, $relation->entity.id, &quot;;&#xD;&#xA;&#x9;&#x9;foreach ($target->fields as $field) {&#xD;&#xA;&#x9;&#x9;  if (strpos($target->title_script, $field->key) != false) {&#xD;&#xA;&#x9;&#x9;&#x9;$sub_query .= &quot;$relation->entity.$field->key AS $field->key, &quot;;&#xD;&#xA;&#x9;&#x9;  }&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;if (substr($sub_query, -2) == ', ') $sub_query = substr($sub_query, 0, -2);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;$sub_query.=&quot; FROM $prefix$entity_key as $entity_key &quot;;&#xD;&#xA;&#x9;&#x9;$sub_query.=&quot; RIGHT JOIN $prefix$relation->join_table AS $relation->join_table ON $entity->key.$relation->join_s_key=$relation->join_table.$relation->join_t_key &quot;;&#xD;&#xA;&#x9;&#x9;$sub_query.=&quot; RIGHT JOIN $prefix$relation->entity AS $relation->entity ON $target->key.$opposite->join_s_key=$relation->join_table.$opposite->join_t_key &quot;;&#xD;&#xA;&#x9;&#x9;$ids = array();&#xD;&#xA;&#x9;&#x9;foreach ($rows as $row) {&#xD;&#xA;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$ids[] = $row->id;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;$ids = implode(',', $ids);&#xD;&#xA;&#x9;&#x9;$sub_query.=&quot; WHERE $entity_key.$relation->join_s_key IN ($ids)&quot;;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  else  {&#xD;&#xA;&#x9;&#x9;$sub_query = &quot;SELECT id, $relation->join_t_key, &quot;;&#xD;&#xA;&#x9;&#x9;foreach ($target->fields as $field) {&#xD;&#xA;&#x9;&#x9;  if (strpos($target->title_script, $field->key) != false) {&#xD;&#xA;&#x9;&#x9;&#x9;$sub_query .= &quot;$field->key , &quot;;&#xD;&#xA;&#x9;&#x9;  }&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;if (substr($sub_query, -2) == ', ') $sub_query = substr($sub_query, 0, -2);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;$ids = array();&#xD;&#xA;&#x9;&#x9;foreach ($rows as $row) {&#xD;&#xA;&#x9;&#x9;  $k = $relation->join_s_key;&#xD;&#xA;&#x9;&#x9;  $id = $row->$k;&#xD;&#xA;&#x9;&#x9;  if ($id == null) continue;&#xD;&#xA;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="if (!in_array($id, $ids)) $ids[] = $id;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;$ids = implode(',', $ids);&#xD;&#xA;&#x9;&#x9;$sub_query .= &quot; FROM $prefix$relation->join_table WHERE $relation->join_t_key IN ($ids)&quot;;&#xD;&#xA;&#x9;  }&#xD;&#xA;//&#x9;else  {&#xD;&#xA;////&#x9;&#x9;$alias = $this->push_alias($relation->join_table);&#xD;&#xA;//&#x9;&#x9;$sub_query = &quot;SELECT id, &quot;;&#xD;&#xA;//&#xD;&#xA;//&#x9;&#x9;foreach ($target->fields as $field) {&#xD;&#xA;//&#x9;&#x9;  if (strpos($target->title_script, $field->key) != false) {&#xD;&#xA;//&#x9;&#x9;&#x9;$sub_query .= &quot;$field->key , &quot;;&#xD;&#xA;//&#x9;&#x9;  }&#xD;&#xA;//&#x9;&#x9;}&#xD;&#xA;//&#x9;&#x9;if (substr($sub_query, -2) == ', ') $sub_query = substr($sub_query, 0, -2);&#xD;&#xA;//&#xD;&#xA;//&#x9;&#x9;$ids = array();&#xD;&#xA;//&#x9;&#x9;foreach ($rows as $row) {&#xD;&#xA;//&#x9;&#x9;  $k = $relation->join_s_key;&#xD;&#xA;//&#x9;&#x9;  $id = $row->$k;&#xD;&#xA;//&#x9;&#x9;  if ($id == null) continue;&#xD;&#xA;//&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="if (!in_array($id, $ids)) $ids[] = $id;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;//&#x9;&#x9;}&#xD;&#xA;//&#x9;&#x9;$ids = implode(',', $ids);&#xD;&#xA;//&#x9;&#x9;$sub_query .= &quot; FROM $prefix$relation->join_table WHERE $relation->join_t_key IN ($ids)&quot;;&#xD;&#xA;//&#x9;  }&#xD;&#xA;&#x9;  $sub_rows = $wpdb->get_results($sub_query);&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#x9;  if ($opposite &amp;&amp; $opposite->many) {&#xD;&#xA;&#x9;&#x9;foreach ($rows as $row) {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;  $k = &quot;{$entity_key}_id&quot;;&#xD;&#xA;&#x9;&#x9;  $id = $row->id;&#xD;&#xA;&#x9;&#x9;  $filters=array();&#xD;&#xA;&#x9;&#x9;  $reminds=array();&#xD;&#xA;&#x9;&#x9;  foreach ($sub_rows as $key=>$data){&#xD;&#xA;&#x9;&#x9;&#x9;if ($data->$k == $id){&#xD;&#xA;&#x9;&#x9;&#x9;  unset($data->$k);&#xD;&#xA;&#x9;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$filters[]= $data;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;&#x9;"/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="}else $reminds[]=$data;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;  }&#xD;&#xA;&#x9;&#x9;  $row->{$relation->key} = $filters;&#xD;&#xA;&#x9;&#x9;  $sub_rows=$reminds;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;  }else {&#xD;&#xA;&#x9;&#x9;foreach ($rows as $row) {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;  $k = $relation->join_s_key;&#xD;&#xA;&#x9;&#x9;  $id = $row->$k;&#xD;&#xA;&#x9;&#x9;  if ($id == null) {&#xD;&#xA;&#x9;&#x9;&#x9;$row->{$relation->key} = array();&#xD;&#xA;&#x9;&#x9;&#x9;continue;&#xD;&#xA;&#x9;&#x9;  }&#xD;&#xA;"/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#x9;&#x9;  $row->{$relation->key} = array_values(array_filter($sub_rows, function ($data) use ($id,$relation) {&#xD;&#xA;&#x9;&#x9;&#x9;return $data->{$relation->join_t_key} == $id;&#xD;&#xA;&#x9;&#x9;  }));&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;  }&#xD;&#xA;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;if (!count($expanded_fields)) return array('items'=>$rows,'total'=>$total);&#xD;&#xA;&#xD;&#xA;&#x9;foreach ($rows as $row) {&#xD;&#xA;&#x9;  foreach ($expanded_fields as $key=>$fields){&#xD;&#xA;&#x9;&#x9;$row->$key=null;&#xD;&#xA;&#x9;&#x9;foreach ($fields as $field)&#xD;&#xA;&#x9;&#x9;{&#xD;&#xA;&#x9;&#x9;  $k=$key.'_'.$field;&#xD;&#xA;&#x9;&#x9;  $value=$row->$k;&#xD;&#xA;&#x9;&#x9;  unset($row->$k);&#xD;&#xA;&#x9;&#x9;  if (!$value) continue;&#xD;&#xA;&#x9;&#x9;  if($row->$key==null)$row->$key=new stdClass();&#xD;&#xA;&#x9;&#x9;  $row->$key->$field=$value;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;return array('items'=>$rows,'total'=>$total);&#xD;&#xA;&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  public function mutation_item( $item,$entity_key)&#xD;&#xA;  {&#xD;&#xA;&#x9;global $wpdb;&#xD;&#xA;&#x9;$prefix = $wpdb->prefix . '"/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_';&#xD;&#xA;&#x9;$entity = "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_Models::get_entity($entity_key);&#xD;&#xA;&#x9;$removed_keys = array();&#xD;&#xA;&#x9;// many-many bi-direct&#xD;&#xA;&#x9;$m_m_b = new stdClass();&#xD;&#xA;&#x9;// many-one bi-direct&#xD;&#xA;&#x9;$m_o_b = new stdClass();&#xD;&#xA;&#x9;"/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$id = array_key_exists(&quot;id&quot;, $item) ? $item[&quot;id&quot;] : 0;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;$current = $id ? $wpdb->get_row(&quot;SELECT * FROM $prefix$entity_key WHERE id=$id&quot;) : null;&#xD;&#xA;&#x9;foreach ($item as $key => $value) {&#xD;&#xA;&#x9;  $relation = $entity->get_relation($key);&#xD;&#xA;&#x9;  if (!$relation) {&#xD;&#xA;&#x9;&#x9;"/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="if ($current &amp;&amp; $current->$key == $value) $removed_keys[] = $key;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;continue;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  $opposite = $relation->opposite;&#xD;&#xA;&#x9;  if (!$opposite) {&#xD;&#xA;&#x9;&#x9;//many-one direct&#xD;&#xA;&#x9;&#x9;if (!$relation->many) {&#xD;&#xA;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="if ($current &amp;&amp; $current->$key == $value) $removed_keys[] = $key;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;  continue;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// many-one direct&#xD;&#xA;&#x9;&#x9;$ids=implode(',',$value);&#xD;&#xA;&#x9;&#x9;$wpdb->query(&quot;UPDATE $prefix$relation->entity SET $relation->join_t_key=NULL WHERE $relation->join_t_key = $id&quot;);&#xD;&#xA;&#x9;&#x9;$wpdb->query(&quot;UPDATE $prefix$relation->entity SET $relation->join_t_key=$id WHERE id IN ($ids)&quot;);&#xD;&#xA;&#x9;&#x9;"/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$removed_keys[] = $key;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;continue;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  $target = "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_Models::get_entity($relation->entity);&#xD;&#xA;&#x9;  $opposite = $target->get_relation($relation->opposite);&#xD;&#xA;//&#x9;  if ($relation->entity==$entity_key)&#xD;&#xA;//&#x9;  {&#xD;&#xA;//&#xD;&#xA;//&#x9;    continue;&#xD;&#xA;//&#x9;  }&#xD;&#xA;&#x9;  if ($opposite->many) {&#xD;&#xA;&#x9;&#x9;//many-many bi-direct&#xD;&#xA;&#x9;&#x9;if ($relation->many) {&#xD;&#xA;&#x9;&#x9;  $tmp = new stdClass();&#xD;&#xA;&#x9;&#x9;  $tmp->value = $value;&#xD;&#xA;&#x9;&#x9;  $tmp->relation = $relation;&#xD;&#xA;&#x9;&#x9;  $tmp->opposite = $opposite;&#xD;&#xA;&#x9;&#x9;  $tmp->target = $target;&#xD;&#xA;&#x9;&#x9;  $m_m_b->$key = $tmp;&#xD;&#xA;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$removed_keys[] = $key;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;  continue;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;//many-one bi-direct&#xD;&#xA;&#x9;&#x9;"/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="if ($current &amp;&amp; $current->$key == $value) $removed_keys[] = $key;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;continue;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;continue;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  $tmp = new stdClass();&#xD;&#xA;&#x9;  $tmp->value = $value;&#xD;&#xA;&#x9;  $tmp->relation = $relation;&#xD;&#xA;&#x9;  $tmp->opposite = $opposite;&#xD;&#xA;&#x9;  $tmp->target = $target;&#xD;&#xA;&#x9;  $m_o_b->$key = $tmp;&#xD;&#xA;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$removed_keys[] = $key;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;foreach ($removed_keys as $key) {&#xD;&#xA;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="unset($item[$key]);">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;if (count($item)) {&#xD;&#xA;&#x9;  if ($current) {&#xD;&#xA;&#x9;&#x9;$result = $wpdb->update(&quot;$prefix$entity_key&quot;, $item, array('id' => $id));&#xD;&#xA;&#x9;  } else {&#xD;&#xA;&#x9;&#x9;$result = $wpdb->insert(&quot;$prefix$entity_key&quot;, $item);&#xD;&#xA;&#x9;&#x9;$id = $wpdb->insert_id;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  if ($result===false) return $wpdb->last_error;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;foreach ($m_m_b as $key => $mmb) {&#xD;&#xA;&#x9;  $relation = $mmb->relation;&#xD;&#xA;&#x9;  $values = $mmb->value;&#xD;&#xA;&#x9;  $opposite = $mmb->opposite;&#xD;&#xA;&#x9;  $target = $mmb->target;&#xD;&#xA;&#x9;  $table = $relation->join_table;&#xD;&#xA;&#xD;&#xA;&#x9;  if ($current) {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;$items = $wpdb->get_results(&quot;SELECT * FROM $prefix$relation->join_table WHERE $relation->join_t_key=$id&quot;);&#xD;&#xA;&#x9;&#x9;$ids_to_remove = array();&#xD;&#xA;&#x9;&#x9;foreach ($items as $item) {&#xD;&#xA;&#x9;&#x9;  $search=array_search($item->{$relation->entity}, $values);&#xD;&#xA;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="if ($search=== false)$ids_to_remove[] = $item->id;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="else unset($values[$search]);">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;if (count($ids_to_remove)) {&#xD;&#xA;&#x9;&#x9;  $ids_to_remove=implode(',',$ids_to_remove);&#xD;&#xA;&#x9;&#x9;  $wpdb->query(&quot;DELETE FROM $prefix$relation->join_table WHERE id IN ($ids_to_remove)&quot;);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  if ($id &amp;&amp; count($values)) {&#xD;&#xA;&#x9;&#x9;$insert_query = &quot;INSERT INTO $prefix$relation->join_table ($relation->join_t_key,$opposite->join_t_key) VALUES &quot;;&#xD;&#xA;&#x9;&#x9;$insert_query_values = array();&#xD;&#xA;&#x9;&#x9;foreach ($values as $value) {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;  array_push($insert_query_values, &quot;($id,$value)&quot;);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;$insert_query .= implode(&quot;,&quot;, $insert_query_values);&#xD;&#xA;&#x9;&#x9;$wpdb->query($insert_query);&#xD;&#xA;&#x9;  }&#xD;&#xA;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;foreach ($m_o_b as $key => $mmb) {&#xD;&#xA;&#x9;  $relation = $mmb->relation;&#xD;&#xA;&#x9;  $values = $mmb->value;&#xD;&#xA;&#x9;  $opposite = $mmb->opposite;&#xD;&#xA;&#x9;  $target = $mmb->target;&#xD;&#xA;&#x9;  $table = $relation->join_table;&#xD;&#xA;&#xD;&#xA;&#x9;  if ($current) {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;$items = $wpdb->get_results(&quot;SELECT id,$opposite->join_s_key FROM $prefix$relation->join_table WHERE $opposite->join_s_key=$id&quot;);&#xD;&#xA;&#x9;&#x9;$ids_to_remove = array();&#xD;&#xA;&#x9;&#x9;foreach ($items as $item) {&#xD;&#xA;//&#x9;&#x9;  if ( !$values|| !count($values) || in_array($item->{$relation->join_s_key},$values)) continue;&#xD;&#xA;//&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$ids_to_remove[] = $item->id;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;  $search=array_search($item->{$relation->join_s_key}, $values);&#xD;&#xA;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="if ($search=== false)$ids_to_remove[] = $item->id;">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;  "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="else unset($values[$search]);">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;if (count($ids_to_remove)) {&#xD;&#xA;&#x9;&#x9;  $ids_to_remove=implode(',',$ids_to_remove);&#xD;&#xA;&#x9;&#x9;  $wpdb->query(&quot;UPDATE $prefix$relation->join_table SET $opposite->join_s_key = NULL WHERE id IN ($ids_to_remove)&quot;);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  if ($values &amp;&amp; count($values)) {&#xD;&#xA;&#x9;&#x9;$ids = implode(&quot;,&quot;, $values);&#xD;&#xA;&#x9;&#x9;$wpdb->query(&quot;UPDATE $prefix$relation->join_table SET $opposite->join_s_key=$id WHERE id IN ($ids)&quot;);&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;return $id;&#xD;&#xA;  }&#xD;&#xA;  public function delete_item( $item,$entity_key):int&#xD;&#xA;  {&#xD;&#xA;&#x9;global $wpdb;&#xD;&#xA;&#x9;$prefix = $wpdb->prefix . '"/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_';&#xD;&#xA;&#x9;$entity = "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_Models::get_entity($entity_key);&#xD;&#xA;&#x9;$id =is_array($item)?(array_key_exists('id', $item) ? "/>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="$item[&quot;id&quot;] : 0):$item">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol=";&#xD;&#xA;&#x9;$current = $id ? $wpdb->get_row(&quot;SELECT * FROM $prefix$entity_key WHERE id=$id&quot;) : null;&#xD;&#xA;&#x9;if (!$current) return 0;&#xD;&#xA;&#x9;foreach ($current as $key => $value) {&#xD;&#xA;&#x9;  $relation = $entity->get_relation($key);&#xD;&#xA;&#x9;  if (!$relation) continue;&#xD;&#xA;&#x9;  $opposite = $relation->opposite;&#xD;&#xA;&#x9;  if (!$opposite) {&#xD;&#xA;&#x9;&#x9;//many-one direct&#xD;&#xA;&#x9;&#x9;if (!$relation->many) continue;&#xD;&#xA;&#x9;&#x9;$wpdb->query(&quot;UPDATE $prefix$relation->entity SET $relation->join_t_key=NULL WHERE $relation->join_t_key = $id&quot;);&#xD;&#xA;&#x9;&#x9;continue;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;  $target = "/>
        <body xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </body>
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_Models::get_entity($relation->entity);&#xD;&#xA;&#x9;  $opposite = $target->get_relation($relation->opposite);&#xD;&#xA;&#xD;&#xA;&#x9;  if ($opposite->many) {&#xD;&#xA;&#x9;&#x9;//many-many bi-direct&#xD;&#xA;&#x9;&#x9;if ($relation->many) {&#xD;&#xA;&#x9;&#x9;  $wpdb->query(&quot;DELETE FROM $prefix$relation->join_table WHERE $entity_key = $id&quot;);&#xD;&#xA;&#x9;&#x9;  continue;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;//many-one bi-direct&#xD;&#xA;&#x9;&#x9;if ($relation->join_table==$entity_key)&#xD;&#xA;&#x9;&#x9;  $wpdb->query(&quot;UPDATE $prefix$relation->join_table SET $opposite->join_t_key=NULL WHERE $opposite->join_t_key = $id&quot;);&#xD;&#xA;&#x9;&#x9;continue;&#xD;&#xA;&#x9;  }&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;$wpdb->query(&quot;DELETE FROM $prefix$entity_key  WHERE id = $id&quot;);&#xD;&#xA;&#x9;return $id;&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;}&#xD;&#xA;"/>
        <fileUrl xsi:type="ocl.ecore:OperationCallExp" referredOperation="/1/oclstdlib_String_Class/+">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          <source xsi:type="ocl.ecore:OperationCallExp" referredOperation="/1/oclstdlib_String_Class/+">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            <source xsi:type="ocl.ecore:OperationCallExp" referredOperation="/1/oclstdlib_String_Class/+">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              <source xsi:type="ocl.ecore:VariableExp" name="directory" referredVariable="/0/db/directory">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </source>
              <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="/includes/">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </argument>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" name="prefix" referredVariable="/0/db/prefix">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
          </source>
          <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="_db.php">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </argument>
        </fileUrl>
        <charset xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="UTF-8">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </charset>
      </body>
      <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xD;&#xA;"/>
      <parameter name="plg">
        <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
      </parameter>
      <parameter name="directory">
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
      </parameter>
      <parameter name="prefix">
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
      </parameter>
      <parameter name="td">
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
      </parameter>
    </ownedModuleElement>
  </mtl:Module>
  <ecore:EPackage name="additions">
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_String_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
      </eAnnotations>
      <eOperations name="+">
        <eAnnotations source="MTL non-standard"/>
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        <eParameters name="other">
          <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
        </eParameters>
      </eOperations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_Integer_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_Real_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Real"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="ecore_EObject_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/emf/2002/Ecore#//EObject"/>
      </eAnnotations>
      <eOperations name="db">
        <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
          <contents xsi:type="ocl.ecore:Constraint"/>
        </eAnnotations>
        <eAnnotations source="MTL" references="/0/db"/>
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        <eParameters name="plg">
          <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
        </eParameters>
        <eParameters name="directory">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </eParameters>
        <eParameters name="prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </eParameters>
        <eParameters name="td">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </eParameters>
      </eOperations>
      <eOperations name="isNotEmpty">
        <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
          <contents xsi:type="ocl.ecore:Constraint"/>
        </eAnnotations>
        <eAnnotations source="MTL">
          <references href="../service.emtl#/0/isNotEmpty"/>
        </eAnnotations>
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
        <eParameters name="o">
          <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
        </eParameters>
      </eOperations>
      <eOperations name="getCopyrightComment">
        <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
          <contents xsi:type="ocl.ecore:Constraint"/>
        </eAnnotations>
        <eAnnotations source="MTL">
          <references href="../service.emtl#/0/getCopyrightComment.1"/>
        </eAnnotations>
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        <eParameters name="plg">
          <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
        </eParameters>
        <eParameters name="since">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </eParameters>
      </eOperations>
      <eOperations name="getCreateTableList">
        <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
          <contents xsi:type="ocl.ecore:Constraint"/>
        </eAnnotations>
        <eAnnotations source="MTL">
          <references href="../service.emtl#/0/getCreateTableList"/>
        </eAnnotations>
        <eType xsi:type="ocl.ecore:SequenceType" href="../service.emtl#/3/Sequence(String)"/>
        <eParameters name="ws">
          <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//PluginWebService"/>
        </eParameters>
        <eParameters name="prefix">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </eParameters>
        <eParameters name="indent">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        </eParameters>
      </eOperations>
      <eOperations name="getAllTables">
        <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
          <contents xsi:type="ocl.ecore:Constraint"/>
        </eAnnotations>
        <eAnnotations source="MTL">
          <references href="../service.emtl#/0/getAllTables"/>
        </eAnnotations>
        <eType xsi:type="ocl.ecore:SequenceType" href="../service.emtl#/3/Sequence(String)"/>
        <eParameters name="ws">
          <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//PluginWebService"/>
        </eParameters>
      </eOperations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_OclAny_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_Collection(T)_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Collection(T)"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_Sequence(T)_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_OrderedSet(T)_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OrderedSet(T)"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="crudrest_CrudRestPlugin_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="crudrest_MenuItem_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://crudrest.msde.ui.ac.ir#//MenuItem"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="crudrest_UIPage_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://crudrest.msde.ui.ac.ir#//UIPage"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="crudrest_List_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://crudrest.msde.ui.ac.ir#//List"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="crudrest_Layout_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://crudrest.msde.ui.ac.ir#//Layout"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="crudrest_PluginWebService_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://crudrest.msde.ui.ac.ir#//PluginWebService"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="crudrest_Relation_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://crudrest.msde.ui.ac.ir#//Relation"/>
      </eAnnotations>
    </eClassifiers>
  </ecore:EPackage>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EObject"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ecore:EPackage name="collections">
    <eClassifiers xsi:type="ocl.ecore:SequenceType" name="Sequence(String)" instanceClassName="java.util.List">
      <elementType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </eClassifiers>
  </ecore:EPackage>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="i">
    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="i">
    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://crudrest.msde.ui.ac.ir#//CrudRestPlugin"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EObject"/>
  </ocl.ecore:Variable>
  <ecore:EAnnotation source="positions">
    <eAnnotations source="positions.0" references="/0/db">
      <details key="start" value="125"/>
      <details key="end" value="15481"/>
      <details key="line" value="4"/>
    </eAnnotations>
    <eAnnotations source="positions.1" references="/0/db/%">
      <details key="start" value="212"/>
      <details key="end" value="214"/>
      <details key="line" value="5"/>
    </eAnnotations>
    <eAnnotations source="positions.2" references="/0/db/%.1">
      <details key="start" value="214"/>
      <details key="end" value="15466"/>
      <details key="line" value="6"/>
    </eAnnotations>
    <eAnnotations source="positions.3" references="/0/db/%.1/%">
      <details key="start" value="282"/>
      <details key="end" value="329"/>
      <details key="line" value="7"/>
    </eAnnotations>
    <eAnnotations source="positions.4" references="/0/db/%.1/%.1">
      <details key="start" value="330"/>
      <details key="end" value="358"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.5" references="/0/db/%.1/%.1/self">
      <details key="start" value="-1"/>
      <details key="end" value="-1"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.6" references="/0/db/%.1/%.1/%">
      <details key="start" value="350"/>
      <details key="end" value="357"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.7" references="/0/db/%.1/%.2">
      <details key="start" value="360"/>
      <details key="end" value="381"/>
      <details key="line" value="13"/>
    </eAnnotations>
    <eAnnotations source="positions.8" references="/0/db/%.1/prefix">
      <details key="start" value="382"/>
      <details key="end" value="388"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.9" references="/0/db/%.1/%.3">
      <details key="start" value="390"/>
      <details key="end" value="413"/>
      <details key="line" value="14"/>
    </eAnnotations>
    <eAnnotations source="positions.10" references="/0/db/%.1/prefix.1">
      <details key="start" value="414"/>
      <details key="end" value="420"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.11" references="/0/db/%.1/%.4">
      <details key="start" value="422"/>
      <details key="end" value="447"/>
      <details key="line" value="16"/>
    </eAnnotations>
    <eAnnotations source="positions.12" references="/0/db/%.1/%.5">
      <details key="start" value="447"/>
      <details key="end" value="525"/>
      <details key="line" value="17"/>
    </eAnnotations>
    <eAnnotations source="positions.13" references="/0/db/%.1/%.5/%">
      <details key="start" value="486"/>
      <details key="end" value="487"/>
      <details key="line" value="17"/>
    </eAnnotations>
    <eAnnotations source="positions.14" references="/0/db/%.1/%.5/%.1">
      <details key="start" value="488"/>
      <details key="end" value="508"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.15" references="/0/db/%.1/%.5/%.1/%">
      <details key="start" value="488"/>
      <details key="end" value="498"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.16" references="/0/db/%.1/%.5/%.1/%/plg">
      <details key="start" value="488"/>
      <details key="end" value="491"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.17" references="/0/db/%.1/%.5/%.2">
      <details key="start" value="510"/>
      <details key="end" value="511"/>
      <details key="line" value="17"/>
    </eAnnotations>
    <eAnnotations source="positions.18" references="/0/db/%.1/%.5/%.3">
      <details key="start" value="450"/>
      <details key="end" value="485"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.19" references="/0/db/%.1/%.5/%.3/%">
      <details key="start" value="451"/>
      <details key="end" value="471"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.20" references="/0/db/%.1/%.5/%.3/%/%">
      <details key="start" value="451"/>
      <details key="end" value="461"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.21" references="/0/db/%.1/%.5/%.3/%/%/plg">
      <details key="start" value="451"/>
      <details key="end" value="454"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.22" references="/0/db/%.1/%.5/%.4">
      <details key="start" value="511"/>
      <details key="end" value="520"/>
      <details key="line" value="17"/>
    </eAnnotations>
    <eAnnotations source="positions.23" references="/0/db/%.1/%.5/%.4/%">
      <details key="start" value="517"/>
      <details key="end" value="520"/>
      <details key="line" value="17"/>
    </eAnnotations>
    <eAnnotations source="positions.24" references="/0/db/%.1/%.6">
      <details key="start" value="525"/>
      <details key="end" value="674"/>
      <details key="line" value="17"/>
    </eAnnotations>
    <eAnnotations source="positions.25" references="/0/db/%.1/prefix.2">
      <details key="start" value="675"/>
      <details key="end" value="681"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.26" references="/0/db/%.1/%.7">
      <details key="start" value="683"/>
      <details key="end" value="730"/>
      <details key="line" value="23"/>
    </eAnnotations>
    <eAnnotations source="positions.27" references="/0/db/%.1/prefix.3">
      <details key="start" value="731"/>
      <details key="end" value="737"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.28" references="/0/db/%.1/%.8">
      <details key="start" value="739"/>
      <details key="end" value="829"/>
      <details key="line" value="24"/>
    </eAnnotations>
    <eAnnotations source="positions.29" references="/0/db/%.1/prefix.4">
      <details key="start" value="830"/>
      <details key="end" value="836"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.30" references="/0/db/%.1/%.9">
      <details key="start" value="838"/>
      <details key="end" value="1082"/>
      <details key="line" value="29"/>
    </eAnnotations>
    <eAnnotations source="positions.31" references="/0/db/%.1/%.10">
      <details key="start" value="1082"/>
      <details key="end" value="1185"/>
      <details key="line" value="42"/>
    </eAnnotations>
    <eAnnotations source="positions.32" references="/0/db/%.1/%.10/%">
      <details key="start" value="1154"/>
      <details key="end" value="1170"/>
      <details key="line" value="43"/>
    </eAnnotations>
    <eAnnotations source="positions.33" references="/0/db/%.1/%.10/q">
      <details key="start" value="1171"/>
      <details key="end" value="1172"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.34" references="/0/db/%.1/%.10/%.1">
      <details key="start" value="1174"/>
      <details key="end" value="1179"/>
      <details key="line" value="43"/>
    </eAnnotations>
    <eAnnotations source="positions.35" references="/0/db/%.1/%.10/q.1">
      <details key="start" value="1088"/>
      <details key="end" value="1098"/>
      <details key="line" value="42"/>
    </eAnnotations>
    <eAnnotations source="positions.36" references="/0/db/%.1/%.10/%.2">
      <details key="start" value="1099"/>
      <details key="end" value="1150"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.37" references="/0/db/%.1/%.10/%.2/%">
      <details key="start" value="1099"/>
      <details key="end" value="1118"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.38" references="/0/db/%.1/%.10/%.2/%/plg">
      <details key="start" value="1099"/>
      <details key="end" value="1102"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.39" references="/0/db/%.1/%.10/%.2/prefix">
      <details key="start" value="1138"/>
      <details key="end" value="1144"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.40" references="/0/db/%.1/%.10/%.2/%.1">
      <details key="start" value="1145"/>
      <details key="end" value="1149"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.41" references="/0/db/%.1/%.11">
      <details key="start" value="1187"/>
      <details key="end" value="1201"/>
      <details key="line" value="45"/>
    </eAnnotations>
    <eAnnotations source="positions.42" references="/0/db/%.1/prefix.5">
      <details key="start" value="1202"/>
      <details key="end" value="1208"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.43" references="/0/db/%.1/%.12">
      <details key="start" value="1210"/>
      <details key="end" value="1632"/>
      <details key="line" value="45"/>
    </eAnnotations>
    <eAnnotations source="positions.44" references="/0/db/%.1/%.13">
      <details key="start" value="1632"/>
      <details key="end" value="1775"/>
      <details key="line" value="65"/>
    </eAnnotations>
    <eAnnotations source="positions.45" references="/0/db/%.1/%.13/%">
      <details key="start" value="1691"/>
      <details key="end" value="1743"/>
      <details key="line" value="66"/>
    </eAnnotations>
    <eAnnotations source="positions.46" references="/0/db/%.1/%.13/%.1">
      <details key="start" value="1744"/>
      <details key="end" value="1762"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.47" references="/0/db/%.1/%.13/%.1/%">
      <details key="start" value="1744"/>
      <details key="end" value="1755"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.48" references="/0/db/%.1/%.13/%.1/%/prefix">
      <details key="start" value="1744"/>
      <details key="end" value="1750"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.49" references="/0/db/%.1/%.13/%.1/%/%">
      <details key="start" value="1752"/>
      <details key="end" value="1755"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.50" references="/0/db/%.1/%.13/%.1/table">
      <details key="start" value="1757"/>
      <details key="end" value="1762"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.51" references="/0/db/%.1/%.13/%.2">
      <details key="start" value="1764"/>
      <details key="end" value="1769"/>
      <details key="line" value="66"/>
    </eAnnotations>
    <eAnnotations source="positions.52" references="/0/db/%.1/%.13/table">
      <details key="start" value="1638"/>
      <details key="end" value="1652"/>
      <details key="line" value="65"/>
    </eAnnotations>
    <eAnnotations source="positions.53" references="/0/db/%.1/%.13/%.3">
      <details key="start" value="1653"/>
      <details key="end" value="1687"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.54" references="/0/db/%.1/%.13/%.3/%">
      <details key="start" value="1653"/>
      <details key="end" value="1672"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.55" references="/0/db/%.1/%.13/%.3/%/plg">
      <details key="start" value="1653"/>
      <details key="end" value="1656"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.56" references="/0/db/%.1/%.14">
      <details key="start" value="1777"/>
      <details key="end" value="1794"/>
      <details key="line" value="68"/>
    </eAnnotations>
    <eAnnotations source="positions.57" references="/0/db/%.1/prefix.6">
      <details key="start" value="1795"/>
      <details key="end" value="1801"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.58" references="/0/db/%.1/%.15">
      <details key="start" value="1803"/>
      <details key="end" value="2174"/>
      <details key="line" value="68"/>
    </eAnnotations>
    <eAnnotations source="positions.59" references="/0/db/%.1/%.16">
      <details key="start" value="2175"/>
      <details key="end" value="2201"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.60" references="/0/db/%.1/%.17">
      <details key="start" value="2203"/>
      <details key="end" value="2656"/>
      <details key="line" value="82"/>
    </eAnnotations>
    <eAnnotations source="positions.61" references="/0/db/%.1/prefix.7">
      <details key="start" value="2657"/>
      <details key="end" value="2663"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.62" references="/0/db/%.1/%.18">
      <details key="start" value="2665"/>
      <details key="end" value="2681"/>
      <details key="line" value="98"/>
    </eAnnotations>
    <eAnnotations source="positions.63" references="/0/db/%.1/prefix.8">
      <details key="start" value="2682"/>
      <details key="end" value="2688"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.64" references="/0/db/%.1/%.19">
      <details key="start" value="2690"/>
      <details key="end" value="2758"/>
      <details key="line" value="99"/>
    </eAnnotations>
    <eAnnotations source="positions.65" references="/0/db/%.1/prefix.9">
      <details key="start" value="2759"/>
      <details key="end" value="2765"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.66" references="/0/db/%.1/%.20">
      <details key="start" value="2767"/>
      <details key="end" value="2776"/>
      <details key="line" value="101"/>
    </eAnnotations>
    <eAnnotations source="positions.67" references="/0/db/%.1/%.21">
      <details key="start" value="2777"/>
      <details key="end" value="2781"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.68" references="/0/db/%.1/%.22">
      <details key="start" value="2783"/>
      <details key="end" value="3021"/>
      <details key="line" value="101"/>
    </eAnnotations>
    <eAnnotations source="positions.69" references="/0/db/%.1/%.23">
      <details key="start" value="3022"/>
      <details key="end" value="3049"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.70" references="/0/db/%.1/%.24">
      <details key="start" value="3051"/>
      <details key="end" value="3056"/>
      <details key="line" value="110"/>
    </eAnnotations>
    <eAnnotations source="positions.71" references="/0/db/%.1/%.25">
      <details key="start" value="3057"/>
      <details key="end" value="3092"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.72" references="/0/db/%.1/%.26">
      <details key="start" value="3094"/>
      <details key="end" value="3389"/>
      <details key="line" value="111"/>
    </eAnnotations>
    <eAnnotations source="positions.73" references="/0/db/%.1/prefix.10">
      <details key="start" value="3390"/>
      <details key="end" value="3396"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.74" references="/0/db/%.1/%.27">
      <details key="start" value="3398"/>
      <details key="end" value="3442"/>
      <details key="line" value="126"/>
    </eAnnotations>
    <eAnnotations source="positions.75" references="/0/db/%.1/%.28">
      <details key="start" value="3443"/>
      <details key="end" value="3478"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.76" references="/0/db/%.1/%.29">
      <details key="start" value="3480"/>
      <details key="end" value="3726"/>
      <details key="line" value="128"/>
    </eAnnotations>
    <eAnnotations source="positions.77" references="/0/db/%.1/%.30">
      <details key="start" value="3727"/>
      <details key="end" value="3771"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.78" references="/0/db/%.1/%.31">
      <details key="start" value="3773"/>
      <details key="end" value="3998"/>
      <details key="line" value="136"/>
    </eAnnotations>
    <eAnnotations source="positions.79" references="/0/db/%.1/%.32">
      <details key="start" value="3999"/>
      <details key="end" value="4052"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.80" references="/0/db/%.1/%.33">
      <details key="start" value="4054"/>
      <details key="end" value="4813"/>
      <details key="line" value="142"/>
    </eAnnotations>
    <eAnnotations source="positions.81" references="/0/db/%.1/%.34">
      <details key="start" value="4814"/>
      <details key="end" value="4830"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.82" references="/0/db/%.1/%.35">
      <details key="start" value="4832"/>
      <details key="end" value="5557"/>
      <details key="line" value="171"/>
    </eAnnotations>
    <eAnnotations source="positions.83" references="/0/db/%.1/%.36">
      <details key="start" value="5558"/>
      <details key="end" value="5598"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.84" references="/0/db/%.1/%.37">
      <details key="start" value="5600"/>
      <details key="end" value="5616"/>
      <details key="line" value="194"/>
    </eAnnotations>
    <eAnnotations source="positions.85" references="/0/db/%.1/prefix.11">
      <details key="start" value="5617"/>
      <details key="end" value="5623"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.86" references="/0/db/%.1/%.38">
      <details key="start" value="5625"/>
      <details key="end" value="6584"/>
      <details key="line" value="195"/>
    </eAnnotations>
    <eAnnotations source="positions.87" references="/0/db/%.1/%.39">
      <details key="start" value="6585"/>
      <details key="end" value="6605"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.88" references="/0/db/%.1/%.40">
      <details key="start" value="6607"/>
      <details key="end" value="7157"/>
      <details key="line" value="213"/>
    </eAnnotations>
    <eAnnotations source="positions.89" references="/0/db/%.1/%.41">
      <details key="start" value="7158"/>
      <details key="end" value="7199"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.90" references="/0/db/%.1/%.42">
      <details key="start" value="7201"/>
      <details key="end" value="7842"/>
      <details key="line" value="232"/>
    </eAnnotations>
    <eAnnotations source="positions.91" references="/0/db/%.1/%.43">
      <details key="start" value="7843"/>
      <details key="end" value="7884"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.92" references="/0/db/%.1/%.44">
      <details key="start" value="7886"/>
      <details key="end" value="8347"/>
      <details key="line" value="253"/>
    </eAnnotations>
    <eAnnotations source="positions.93" references="/0/db/%.1/%.45">
      <details key="start" value="8348"/>
      <details key="end" value="8368"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.94" references="/0/db/%.1/%.46">
      <details key="start" value="8370"/>
      <details key="end" value="8375"/>
      <details key="line" value="271"/>
    </eAnnotations>
    <eAnnotations source="positions.95" references="/0/db/%.1/%.47">
      <details key="start" value="8376"/>
      <details key="end" value="8401"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.96" references="/0/db/%.1/%.48">
      <details key="start" value="8403"/>
      <details key="end" value="8664"/>
      <details key="line" value="272"/>
    </eAnnotations>
    <eAnnotations source="positions.97" references="/0/db/%.1/%.49">
      <details key="start" value="8804"/>
      <details key="end" value="9563"/>
      <details key="line" value="289"/>
    </eAnnotations>
    <eAnnotations source="positions.98" references="/0/db/%.1/prefix.12">
      <details key="start" value="9564"/>
      <details key="end" value="9570"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.99" references="/0/db/%.1/%.50">
      <details key="start" value="9572"/>
      <details key="end" value="9588"/>
      <details key="line" value="323"/>
    </eAnnotations>
    <eAnnotations source="positions.100" references="/0/db/%.1/prefix.13">
      <details key="start" value="9589"/>
      <details key="end" value="9595"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.101" references="/0/db/%.1/%.51">
      <details key="start" value="9597"/>
      <details key="end" value="9763"/>
      <details key="line" value="324"/>
    </eAnnotations>
    <eAnnotations source="positions.102" references="/0/db/%.1/%.52">
      <details key="start" value="9764"/>
      <details key="end" value="9820"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.103" references="/0/db/%.1/%.53">
      <details key="start" value="9822"/>
      <details key="end" value="10022"/>
      <details key="line" value="331"/>
    </eAnnotations>
    <eAnnotations source="positions.104" references="/0/db/%.1/%.54">
      <details key="start" value="10023"/>
      <details key="end" value="10090"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.105" references="/0/db/%.1/%.55">
      <details key="start" value="10092"/>
      <details key="end" value="10224"/>
      <details key="line" value="336"/>
    </eAnnotations>
    <eAnnotations source="positions.106" references="/0/db/%.1/%.56">
      <details key="start" value="10225"/>
      <details key="end" value="10292"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.107" references="/0/db/%.1/%.57">
      <details key="start" value="10294"/>
      <details key="end" value="10589"/>
      <details key="line" value="343"/>
    </eAnnotations>
    <eAnnotations source="positions.108" references="/0/db/%.1/%.58">
      <details key="start" value="10590"/>
      <details key="end" value="10615"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.109" references="/0/db/%.1/%.59">
      <details key="start" value="10617"/>
      <details key="end" value="10651"/>
      <details key="line" value="351"/>
    </eAnnotations>
    <eAnnotations source="positions.110" references="/0/db/%.1/prefix.14">
      <details key="start" value="10652"/>
      <details key="end" value="10658"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.111" references="/0/db/%.1/%.60">
      <details key="start" value="10660"/>
      <details key="end" value="11099"/>
      <details key="line" value="353"/>
    </eAnnotations>
    <eAnnotations source="positions.112" references="/0/db/%.1/%.61">
      <details key="start" value="11100"/>
      <details key="end" value="11125"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.113" references="/0/db/%.1/%.62">
      <details key="start" value="11127"/>
      <details key="end" value="11175"/>
      <details key="line" value="370"/>
    </eAnnotations>
    <eAnnotations source="positions.114" references="/0/db/%.1/%.63">
      <details key="start" value="11176"/>
      <details key="end" value="11243"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.115" references="/0/db/%.1/%.64">
      <details key="start" value="11245"/>
      <details key="end" value="11454"/>
      <details key="line" value="374"/>
    </eAnnotations>
    <eAnnotations source="positions.116" references="/0/db/%.1/%.65">
      <details key="start" value="11455"/>
      <details key="end" value="11480"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.117" references="/0/db/%.1/%.66">
      <details key="start" value="11482"/>
      <details key="end" value="11531"/>
      <details key="line" value="385"/>
    </eAnnotations>
    <eAnnotations source="positions.118" references="/0/db/%.1/%.67">
      <details key="start" value="11532"/>
      <details key="end" value="11553"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.119" references="/0/db/%.1/%.68">
      <details key="start" value="11555"/>
      <details key="end" value="12292"/>
      <details key="line" value="390"/>
    </eAnnotations>
    <eAnnotations source="positions.120" references="/0/db/%.1/%.69">
      <details key="start" value="12293"/>
      <details key="end" value="12345"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.121" references="/0/db/%.1/%.70">
      <details key="start" value="12347"/>
      <details key="end" value="12353"/>
      <details key="line" value="414"/>
    </eAnnotations>
    <eAnnotations source="positions.122" references="/0/db/%.1/%.71">
      <details key="start" value="12354"/>
      <details key="end" value="12385"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.123" references="/0/db/%.1/%.72">
      <details key="start" value="12387"/>
      <details key="end" value="13475"/>
      <details key="line" value="415"/>
    </eAnnotations>
    <eAnnotations source="positions.124" references="/0/db/%.1/%.73">
      <details key="start" value="13476"/>
      <details key="end" value="13507"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.125" references="/0/db/%.1/%.74">
      <details key="start" value="13509"/>
      <details key="end" value="13583"/>
      <details key="line" value="447"/>
    </eAnnotations>
    <eAnnotations source="positions.126" references="/0/db/%.1/%.75">
      <details key="start" value="13584"/>
      <details key="end" value="13636"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.127" references="/0/db/%.1/%.76">
      <details key="start" value="13638"/>
      <details key="end" value="13644"/>
      <details key="line" value="449"/>
    </eAnnotations>
    <eAnnotations source="positions.128" references="/0/db/%.1/%.77">
      <details key="start" value="13645"/>
      <details key="end" value="13676"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.129" references="/0/db/%.1/%.78">
      <details key="start" value="13678"/>
      <details key="end" value="14205"/>
      <details key="line" value="450"/>
    </eAnnotations>
    <eAnnotations source="positions.130" references="/0/db/%.1/prefix.15">
      <details key="start" value="14206"/>
      <details key="end" value="14212"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.131" references="/0/db/%.1/%.79">
      <details key="start" value="14214"/>
      <details key="end" value="14230"/>
      <details key="line" value="466"/>
    </eAnnotations>
    <eAnnotations source="positions.132" references="/0/db/%.1/prefix.16">
      <details key="start" value="14231"/>
      <details key="end" value="14237"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.133" references="/0/db/%.1/%.80">
      <details key="start" value="14239"/>
      <details key="end" value="14329"/>
      <details key="line" value="467"/>
    </eAnnotations>
    <eAnnotations source="positions.134" references="/0/db/%.1/%.81">
      <details key="start" value="14330"/>
      <details key="end" value="14354"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.135" references="/0/db/%.1/%.82">
      <details key="start" value="14356"/>
      <details key="end" value="14857"/>
      <details key="line" value="468"/>
    </eAnnotations>
    <eAnnotations source="positions.136" references="/0/db/%.1/prefix.17">
      <details key="start" value="14858"/>
      <details key="end" value="14864"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.137" references="/0/db/%.1/%.83">
      <details key="start" value="14866"/>
      <details key="end" value="15459"/>
      <details key="line" value="481"/>
    </eAnnotations>
    <eAnnotations source="positions.138" references="/0/db/%.1/%.84">
      <details key="start" value="221"/>
      <details key="end" value="262"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.139" references="/0/db/%.1/%.84/%">
      <details key="start" value="221"/>
      <details key="end" value="251"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.140" references="/0/db/%.1/%.84/%/%">
      <details key="start" value="221"/>
      <details key="end" value="243"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.141" references="/0/db/%.1/%.84/%/%/directory">
      <details key="start" value="221"/>
      <details key="end" value="230"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.142" references="/0/db/%.1/%.84/%/%/%">
      <details key="start" value="231"/>
      <details key="end" value="243"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.143" references="/0/db/%.1/%.84/%/prefix">
      <details key="start" value="245"/>
      <details key="end" value="251"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.144" references="/0/db/%.1/%.84/%.1">
      <details key="start" value="253"/>
      <details key="end" value="262"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.145" references="/0/db/%.1/%.85">
      <details key="start" value="271"/>
      <details key="end" value="278"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.146" references="/0/db/%.2">
      <details key="start" value="15468"/>
      <details key="end" value="15470"/>
      <details key="line" value="503"/>
    </eAnnotations>
    <eAnnotations source="positions.147" references="/0/db/plg">
      <details key="start" value="145"/>
      <details key="end" value="165"/>
      <details key="line" value="4"/>
    </eAnnotations>
    <eAnnotations source="positions.148" references="/0/db/directory">
      <details key="start" value="166"/>
      <details key="end" value="182"/>
      <details key="line" value="4"/>
    </eAnnotations>
    <eAnnotations source="positions.149" references="/0/db/prefix">
      <details key="start" value="184"/>
      <details key="end" value="197"/>
      <details key="line" value="4"/>
    </eAnnotations>
    <eAnnotations source="positions.150" references="/0/db/td">
      <details key="start" value="199"/>
      <details key="end" value="208"/>
      <details key="line" value="4"/>
    </eAnnotations>
  </ecore:EAnnotation>
</xmi:XMI>
